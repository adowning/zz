(window.webpackJsonp1587739345018=window.webpackJsonp1587739345018||[]).push([[1],{102:function(e,t,i){"use strict";i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"e",(function(){return r})),i.d(t,"f",(function(){return a})),i.d(t,"d",(function(){return c})),i.d(t,"g",(function(){return h}));const s={PHONE:"phone",TABLET:"tablet"},n={IPAD:"ipad",IPHONE:"iphone",IPOD:"ipod",ANDROID:"android"},o={IOS:"ios",ANDROID:"android",WINDOWS:"windows"},r={LOW:"ldpi",MEDIUM:"mdpi",HIGH:"hdpi",EXTRA_HIGH:"xhdpi"},a={click:"touchend",down:"touchstart",up:"touchend",move:"touchmove",outside:"touchendoutside"},c={click:"click",down:"mousedown",up:"mouseup",move:"mousemove",outside:"mouseupoutside",over:"mouseover",out:"mouseout"},h=[r.LOW,r.MEDIUM,r.HIGH,r.EXTRA_HIGH]},105:function(e,t,i){"use strict";var s=i(3);class n{constructor(e,t=!0){this.prefix=e,this.isAvailable=t}getItem(e){return this.isAvailable?localStorage.getItem(this.addPrefix(e)):null}setItem(e,t){this.isAvailable&&localStorage.setItem(this.addPrefix(e),t)}removeItem(e){this.isAvailable&&localStorage.removeItem(this.addPrefix(e))}addPrefix(e){return`${this.prefix}_${e}`}}var o=i(5),r=i(0),a=i(13);i.d(t,"a",(function(){return c}));let c=class{constructor(){if(this.isAvailable=(()=>{try{const e="__t__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})(),this.configs=Object(r.d)(o.a),this.wrapperModel=Object(r.d)(a.a),this.wrapperStorage=new n("sww",this.isAvailable),!this.isAvailable)return this.gameStorage=this.wrapperStorage,this.playerStorage=this.wrapperStorage,void(this.gamePlayerStorage=this.wrapperStorage);this.initialize()}initialize(){const{token:e}=this.wrapperModel,{playerCode:t}=e,i=e.gameCode||this.configs.game.ID;this.gameStorage=new n(i),this.playerStorage=new n(t),this.gamePlayerStorage=new n(`${i}_${t}`)}};c=Object(s.a)([r.a],c)},108:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i(3),n=i(0),o=i(9);let r=class extends o.EventEmitter{constructor(){super(...arguments),this.offsets=[],this.nextId=0}add(e){const t=this.nextId++;return this.offsets.push(Object.assign(Object.assign({},e),{id:t})),this.emit("UPDATED"),t}get offsetsSum(){const e={top:0,bottom:0};for(const{top:t,bottom:i}of this.offsets)e.top+=t&&t()||0,e.bottom+=i&&i()||0;return e}remove(e){this.offsets=this.offsets.filter(t=>t.id!==e),this.emit("UPDATED",this.offsetsSum)}getOffsetsSumBefore(e){const t={top:0,bottom:0};for(const{top:i,bottom:s,id:n}of this.offsets)n<e&&(t.top+=i&&i()||0,t.bottom+=s&&s()||0);return t}};r=Object(s.a)([n.a],r)},114:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var s=i(3),n=i(102),o=i(5),r=i(0),a=i(6);let c=class{constructor(){this.forceDpi="",this.matches={},this.settings={},this.ua={},this.userAgent=navigator.userAgent.toLowerCase(),this.config=i(138),this.configs=Object(r.d)(o.a),this.initialize()}initialize(){this.config=l(this.config);const e=l(this.configs.device);this.mergeData(e),this.parseUserAgent();for(const e of Object.keys(this.config))if("userAgent"!==e){const t=this.config[e];this.settings[e]=this.matchSettings(t),this.matches[e]=this.matchBlackList(t)}for(const e of n.g)if(this.matches[e]){this.forceDpi=e;break}window.addEventListener("keydown",e=>{[32].indexOf(e.keyCode)>-1&&e.preventDefault()},!1),window.focus(),window.addEventListener("click",()=>{var e;(null===(e=document.activeElement)||void 0===e?void 0:e.classList.contains("textbox"))||window.focus()})}isDevicePropertyMatched(e){return!!this.matches[e]}getViewportSize(){const e={resizeTimeout:0,useWindowSize:!1,alternateCheckFullscreen:!1,statusBarHeight:{portrait:0,landscape:0},margin:[],portraitKeyboardRatio:1.2},t=this.settings.viewportSettings;if(!t)return e;const i=Object.assign(Object.assign({},e),t);if(!("margin"in t))return i;i.margin=[];for(const e of Object(a.d)(t.margin)){const{landscape:t,fullscreen:s,mobileType:n=null,height:o=null,top:r=0}=e;let{bottom:a=0}=e;43===a&&(a=0),i.margin.push({landscape:t,fullscreen:s,mobileType:n,height:o,offset:{top:r,bottom:a}})}return i}mergeData(e){for(const t of Object.keys(e))this.config[t]=Object.assign({},this.config[t],e[t])}matchBlackList(e={}){for(const t of Object.keys(e))if(e[t]&&(this.ua[t]||h(t,this.ua)))return!0;return!1}matchSettings(e={}){let t={};for(const i of Object.keys(e))(this.ua[i]||h(i,this.ua))&&(t="boolean"==typeof e[i]?e[i]:d(t,e[i]));return t.constructor===Object&&0===Object.keys(t).length?null:t}getSignatures(e){const t=this.config.userAgent[e];if(!t)throw new Error(`The "${e}" has not described`);return Object(a.d)(t)}checkValue(e){const t=/^(\d+)x(\d+)$/.exec(e);if(t){const e=Math.max(screen.height,screen.width),i=Math.min(screen.height,screen.width),s=Math.max(+t[1],+t[2]),n=Math.min(+t[1],+t[2]);return s===e&&n===i}return new RegExp(e,"i").test(this.userAgent)}parseUserAgent(){for(const e of Object.keys(this.config.userAgent)){this.ua[e]=!1;const t=this.config.userAgent[e];if(t instanceof Object&&!Object(a.h)(t)){for(const i of Object.keys(t))if((this.ua[i]||this.checkValue(i))&&this.checkValue(t[i])){this.ua[e]=!0;break}}else for(const t of this.getSignatures(e))if(this.checkValue(t)){this.ua[e]=!0;break}}this.ua.desktop=!0}};function h(e,t){if(!e.match(/\|{2}|&{2}|:|!/g))return!1;const i=e.split(/\|{2}|&{2}/).map(e=>{const i=/(!)(.+)/.exec(e),s=(i?i[2]:e).split(":").reduce((e,i)=>e&&t[i.trim()],!0);return i?!s:s}),s=e.match(/\|{2}|&{2}/g);if(!s)return i[0];return s.reduce((e,t,s)=>{const n=i[s+1];return"&&"===t?e&&n:e||n},i[0])}function d(e,t){const i=Object.assign({},e);for(const s of Object.keys(t)){const n=e[s],o=t[s];if(void 0===n||"boolean"==typeof o||"number"==typeof o)i[s]=o;else{const e=Object(a.d)(n),t=Object(a.d)(o),r="clear"===t[0];i[s]=r?t.slice(1):e.concat(t)}}return i}function u(e){if(!e)return null;const t={};for(const i of Object.keys(e))t[i.toLowerCase()]=e[i];return t}function l(e){const t={};for(const i of Object.keys(e))Object(a.h)(e[i])&&(e[i]=g(e[i])),t[i]=u(e[i]);return t}function g(e){const t={};for(const i of e)t[i]=!0;return t}c=Object(s.a)([r.a],c)},125:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const s=(e,t=100)=>{let i;const s=(...s)=>{i&&clearTimeout(i),i=setTimeout(()=>{e.call(null,...s),i=null},t)};return s.cancel=()=>clearTimeout(i),s}},126:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return a}));var s=i(1),n=i(102);const o=()=>{const e=Object(s.c)("dpi");return n.g.includes(e)?e:""},r=(e,t)=>t.width&&t.height&&!(t.width===e.width&&t.height===e.height),a=()=>({width:0,height:0,isLandscape:innerWidth>innerHeight,marginSettings:{top:0,bottom:0},dynamicOffsets:{top:0,bottom:0}})},138:function(e,t){e.exports={userAgent:{ipad:"ipad",ipod:"ipod",iphone:"iphone",ios:"ip(ad|hone|od)",android:"android",macos:"mac os",linux:"linux",windows:"windows|win\\d\\d|win 9x",unix:"unix",uc:"ucbrowser|ubrowser",qq:"qqbrowser",edge:"edge",chrome:"chrome",safariIos:"iP(ad|hone|od).+Version\\/[\\d\\.]+.*Safari",qqIos:"ip[hone|ad|od].*mq(q|b)",qqOsx:"mac os.*qqbrowser",chromeIos:"crios",iPhone414x896:{iphone:"414x896"},iPhone375x812:{iphone:"375x812"},iPhone414x736:{iphone:"414x736"},iPhone375x667:{iphone:"375x667"},firefox:"firefox|fxios",firefoxDesktop:"(windows|Macintosh).*firefox",webkit:"applewebkit",qqIphone:"(?=.*qqbrowser)(?=.*iPhone)",UCBrowserOnIOS:"(?=.*UCBrowser)(?=.*iPhone)",miuiBrowser:"miuibrowser",ie11:"trident/7.*rv:11","miuiBrowser android 4":"(?=.*miuibrowser)(?=.*Android 4.\\d)","Xiaomi mi 4C":["mi 4lte","mi-4c"],"Xiaomi mi 4C except uc":"android.+?mi 4lte.+?chrome","Xiaomi mi 4C uc":"android.+?mi 4lte.+?ucbrowser","Xiaomi mi 4C baidu":"android.+?mi 4lte.+?bdbrowser","Xiaomi Redmi Note 4":"Redmi Note 4","Xiaomi Redmi 4X":"Redmi 4X","All Xiaomi native browsers":["xiaomi","miuibrowser"],"Samsung Galaxy Note II":["n7100","n7105","n7110"],"OPPO A37F":["a37f","a37m"],"OPPO A39":"CPH1605","Samsung A7":"sm-a700h","Samsung S8":"sm-g950f","LE 2X620":"le x620",Samsung360x740:["360x740","360x692"],SamsungS10:"sm-g973|sm-g975|sm-g977",SamsungBrowser:"samsungbrowser","QQ Android":"android.+?qqbrowser","vivo Native":"vivobrowser","vivo unstable":"\\bvivo\\b.*\\bchrome/3","All Vivo":["vivo","vivobrowser"],"vivo X7":"vivo X7","IE win8":"(?=.*Windows NT 6.(2|3)).*Trident.*(?=.*(rv:\\d+.\\d)|(MSIE \\d+.\\d))","android 7-8 browsers with no bottom panel in landscape":"android.+?(qqbrowser)|(UCBrowser)"},canvas:{UCBrowserOnIOS:!0,"All Vivo":!0,"LE 2X620":!0,"OPPO A37F":!0,"Samsung A7":!0,"Xiaomi mi 4C":!0,qqIphone:!0,"Xiaomi Mi3W":!0,"IE win8":!0,ie11:!0,"miuiBrowser android 4":!0},ldpi:{"OPPO A37F":!0,"Samsung A7":!0,"vivo X7":!0},mdpi:{"IE win8":!0},hdpi:{Samsung360x740:!0,"Xiaomi Redmi Note 4":!0,"Xiaomi Redmi 4X":!0},xhdpi:{ipad:!0,iphone:!0},simplifiedAnimation:{},viewportSettings:{"chrome && android":{resizeTimeout:200},safariIos:{resizeTimeout:50},"OPPO A39 || OPPO A37F || LE 2X620 || miuiBrowser":{resizeTimeout:250},qqIos:{resizeTimeout:250},Samsung360x740:{margin:{fullscreen:!0,height:[360,740],bottom:20}},SamsungS10:{margin:{height:[320,321,332,364,412,826,827],bottom:20}},"Samsung360x740 && SamsungBrowser":{margin:[{height:[336,716],bottom:105}],portraitKeyboardRatio:1.29},"Samsung360x740 && android 7-8 browsers with no bottom panel in landscape":{margin:{fullscreen:!1,landscape:!0,bottom:20}},"Samsung360x740 && qq":{margin:["clear",{height:[304],bottom:20}]},"Samsung360x740 && uc":{margin:["clear",{height:[286],bottom:20}]},chromeIos:{resizeTimeout:150,statusBarHeight:{portrait:20,landscape:20}},"iPad || macos && mobile":{statusBarHeight:40},iPhone414x896:{statusBarHeight:{portrait:64,landscape:20},margin:[{fullscreen:!0,bottom:30},{landscape:!0,bottom:30}]},iPhone375x812:{statusBarHeight:{portrait:64,landscape:20},margin:[{fullscreen:!0,bottom:25},{landscape:!0,bottom:25}]},"iPhone375x812:chromeios":{margin:{height:[748],bottom:25}},"iPhone375x812:qq":{margin:["clear",{landscape:!0,bottom:25}]},"iPhone414x736 || iPhone375x667":{statusBarHeight:{portrait:40,landscape:20}}},disableScrolling:{"QQ Android":!0,"vivo Native":!0},disableFullScreen:{uc:!0,qqIos:!0,qq:!0,"vivo Native":!0,"vivo unstable":!0,"Samsung S8 && SamsungBrowser":!0},disablePointerEvents:{ios:!0,"macos && mobile":!0,qqOsx:!0,UCBrowserOnIOS:!0}}},139:function(e,t,i){"use strict";i.r(t),i.d(t,"KeyboardEventManager",(function(){return a}));var s=i(3),n=i(0),o=i(8);let r=!1,a=class{constructor(){this.dispatcher=Object(n.d)(o.a)}initialize(){this.patchWindowKeydownEvent(),this.dispatcher.on("SET_KEYDOWN_DISABLED",e=>r=e),this.disableDocumentKeypressEvents()}patchWindowKeydownEvent(){const e=window.addEventListener;window.addEventListener=(t,i,s)=>{let n;"keydown"===t&&(n=function(e){if(r)return e.preventDefault(),void e.stopPropagation();i.call(this,e)}),e.call(window,t,n||i,s)}}disableDocumentKeypressEvents(){const e=document.addEventListener;document.addEventListener=function(t,...i){"keypress"!==t&&e.call(this,t,...i)}}};a=Object(s.a)([n.a],a)},140:function(e,t,i){"use strict";i.r(t),i.d(t,"DisplaySettings",(function(){return o}));var s=i(0),n=i(5);class o{constructor(){this.data={density:{ldpi:.5,mdpi:.6,hdpi:.75,xhdpi:1},benchMark:{ldpi:30,mdpi:50,hdpi:80,xhdpi:100},safeArea:{width:1180,height:680},padding:{top:0,right:0,bottom:90,left:0},densityKey:"xhdpi"};const{displaySettings:e}=Object(s.d)(n.a).game;this.data=Object.assign(Object.assign({},this.data),e)}calc(e,t,i){const{top:s,right:n,bottom:o,left:r}=this.data.padding,{width:a,height:c}=this.data.safeArea,{density:h,benchMark:d}=this.data,u=Math.min((t-r-n)/a,(e-s-o)/c),l=Object.keys(h).map(e=>({key:e,value:h[e]})),g=Object.keys(d).map(e=>({key:e,value:d[e]}));l.sort((e,t)=>e.value-t.value),g.sort((e,t)=>e.value-t.value);let m=l.length-1;for(let e=0;e<l.length;e++){if(l[e].value>=u){m=e;break}}let p=g.length-1;for(let e=0;e<g.length;e++){const t=g[e];if(!i||t.value>=i){p=e;break}}return this.data.densityKey=0===p?l[p].key:l[Math.floor((m+p)/2)].key,this.data}}},141:function(e,t,i){"use strict";i.r(t),i.d(t,"benchMark",(function(){return o}));var s=i(0),n=i(5);async function o(){try{return await(Worker&&window.performance?new Promise((e,t)=>{const{path:i}=Object(s.d)(n.a),o=new Worker(i+"bench-worker.js");setTimeout(()=>e(1),3500),o.onmessage=i=>{const{command:s}=i.data;if("result"===s){const t=1e5/(performance.now()-r);o.terminate(),e(t)}"error"===s&&(o.terminate(),t(new Error("An error occurred during benchmark")))};const r=performance.now();o.postMessage({command:"start"})}):Promise.reject(new Error("Browser doesn't support features needed for benchmark")))}catch(e){return-1}}},85:function(e,t,i){"use strict";var s=i(3),n=i(6),o=i(114),r=i(97),a=i(126),c=i(0),h=i(10),d=i(52),u=i(102);let l=class{constructor(){this.deviceConfig=Object(c.d)(o.a);const{userAgent:e}=navigator;this.userAgent=e.toLowerCase(),this.browserData=Object(d.getParser)(e)}getBrowser(){if(!this.browser){let{name:e,version:t}=this.browserData.getBrowser();this.userAgent.indexOf("qq")>-1&&(e="QQ"),t=t||"-1",this.browser={name:e,version:t}}return this.browser}getOS(){return this.browserData.getOS()}checkBrowser(e){const{ua:t}=this.deviceConfig,i=window.chrome,s=e===u.b.ANDROID,n=s&&i&&!i.webstore&&!t.edge&&t.chrome,o=s&&!n&&!t.uc&&!t.qq&&!t.edge&&t.webkit,r={isUC:t.uc,isQQ:t.qq,isQQIos:t.qqios,isIE:t.ie11,isEdge:t.edge,isChromeIOS:t.chromeios,isSafariIOS:t.safariios,isChromeAndroid:n,isStockAndroid:o,isVivo:t["all vivo"],isVivoNative:t["vivo native"],isFirefox:t.firefox,isStandalone:!!navigator.standalone,list:[]};for(const e of Object.keys(r))if("list"!==e&&r[e]){const t=e.slice(2).toLowerCase();r.list.push(t),document.body.classList.add(t)}return r}};l=Object(s.a)([c.a],l);var g=i(13);const m=e=>{function t(t){const i=new e(t);return i.shaderFrag=i.shaderFrag.replace("highp","mediump"),i}return t.prototype=e.prototype,t},p=e=>{var t,i;const s=e.PIXI;if(!s||(e=>{try{const t=e.glCore.createContext(window.document.createElement("canvas"));return!!t.getShaderPrecisionFormat&&0!==t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision}catch(e){return!1}})(s))return;const{settings:n}=s,o=null===(i=null===(t=s)||void 0===t?void 0:t.WebGLRenderer)||void 0===i?void 0:i.__plugins;if(void 0!==n&&(n.PRECISION_FRAGMENT="mediump"),!o)return;const{sprite_bilinear:r,sprite_strange:a}=o;r&&(o.sprite_bilinear=m(r)),a&&(o.sprite_strange=m(a))};var f=i(105),b=i(8);function w(e,t){const i=["CLICK_SCREEN","onCanvasClick"],s=HTMLCanvasElement.prototype.addEventListener;HTMLCanvasElement.prototype.addEventListener=function(n,o,r){if(((e,s)=>{if(e!==t)return!0;const n=s.toString();for(const e of i)if(n.indexOf(e)>-1)return!1;return!0})(n,o))return void s.call(this,n,o,r);s.call(this,n,(function(t){const{top:i,left:s}=e.getBoundingClientRect(),{clientX:n,clientY:r}=t,a={clientX:n-s,clientY:r-i};a.stopPropagation=t.stopPropagation.bind(t),a.preventDefault=t.preventDefault.bind(t),o.call(this,a)}),r)}}var v=i(1);i.d(t,"a",(function(){return O}));const S=i(51);let O=class{constructor(){this.androidVersion=0,this.benchMarkScore=-1,this.isIOS=!1,this.isTouch=!1,this.gameWrapper=Object(h.a)(".game-wrapper"),this.getParams=v.b,this.event=this.isTouch?u.f:u.d,this.isChromeEmulator=!1,this.isES6Support=!0,this.isIframe=Object(n.b)(),this.isLocalStorageAvailable=Object(c.d)(f.a).isAvailable,this.browserDetector=Object(c.d)(l),this.deviceConfig=Object(c.d)(o.a),this.dispatcher=Object(c.d)(b.a),this.storage=Object(c.d)(f.a).gameStorage,this.wrapperModel=Object(c.d)(g.a),this.userAgent=this.deviceConfig.userAgent,this.initialize()}initialize(){this.detectDevice();const{canvas:e,simplifiedAnimation:t}=this.deviceConfig.matches;this.isWebGLSupport=!Object(v.d)("canvas")&&!e||!!Object(v.d)("webgl"),this.isSimplifiedAnimation=!!t||!!Object(v.d)("simplifiedAnimation"),this.deviceOS===u.b.ANDROID&&(this.androidVersion=+this.getBrowser().version),this.browser=this.browserDetector.checkBrowser(this.deviceOS),this.viewportSettings=this.deviceConfig.getViewportSize(),this.calcViewportSize(),this.addBodyCssClasses(),this.addListeners(),w(this.gameWrapper,this.event.click);{const{KeyboardEventManager:e}=i(139);Object(c.d)(e).initialize()}}calcViewportSize(e=screen.availWidth,t=screen.availHeight){const{devicePixelRatio:i}=window;this.deviceLongSide=Math.max(e,t)*i,this.deviceShortSide=Math.min(e,t)*i,this.aspectRatio=this.deviceLongSide/this.deviceShortSide,this.mobileType=this.aspectRatio<=1.6?u.c.TABLET:u.c.PHONE}addBodyCssClasses(){this.deviceOS&&document.body.classList.add(this.deviceOS)}addListeners(){window.addEventListener("contextmenu",e=>e.preventDefault()),this.deviceConfig.matches.disablePointerEvents&&(window.PointerEvent=null),this.dispatcher.once("SETUP_GAME_PARAMS",this.setupDisplaySettings,this)}addIOSListeners(){}detectDevice(){const{ua:e}=this.deviceConfig;this.deviceOS=e.windows?u.b.WINDOWS:""}getBrowser(){return this.browserDetector.getBrowser()}getOS(){return this.browserDetector.getOS()}setupDisplaySettings(){const e=Object(a.a)();e?this.screenDensity=e:this.isSlowConnection?this.screenDensity=u.e.MEDIUM:this.screenDensity=this.deviceConfig.forceDpi||u.e.EXTRA_HIGH}calcMobileDensity(){}async benchMark(){return-1}isAllowFullScreen(){if(!this.wrapperModel.isAllowFullscreen||this.browser.isStandalone)return!1;const{disableFullScreen:e}=this.deviceConfig.matches;return!e&&S.isEnabled}saveDensitySettings(){this.isLocalStorageAvailable&&!Object(a.a)()&&u.g.indexOf(this.screenDensity)>u.g.indexOf(this.storage.getItem("dpi"))&&this.storage.setItem("dpi",this.screenDensity)}get isSlowConnection(){return this.networkSpeed<450}getMarginSettings(){return Object(c.d)(r.a).marginSettings}getScreenResolution(){return Object(c.d)(r.a).resolution}get isLandscape(){return Object(c.d)(r.a).isLandscape}preLaunchGameHooks(){p(window)}};O=Object(s.a)([c.a],O)},97:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var s=i(3),n=i(14),o=(i(125),i(114)),r=i(0),a=i(85),c=i(8),h=i(126),d=i(108);i(51);let u=class{constructor(){this.device=Object(r.d)(a.a),this.deviceConfig=Object(r.d)(o.a),this.dispatcher=Object(r.d)(c.a),this.offsets=Object(r.d)(d.a),this.nativeResizeTarget=this.getNativeResizeTarget(),this.viewportSettings=this.deviceConfig.getViewportSize(),this.beforeRotateActions=[],this._resolution=Object(h.b)()}get resolution(){return this._resolution}get marginSettings(){return this._resolution.marginSettings}get isLandscape(){return this._resolution.isLandscape}async initialize(){this.nativeResizeTarget.addEventListener("resize",this.onResize,!0),this.dispatcher.on("INITIATE_RESIZE",this.onResize),this.offsets.on("UPDATED",this.onResize),this.onResize()}initBeforeRotateActions(){}onVisibilityChange(e){}onResize(){this.doResize()}doResize(){const e=this.getResizeOptions();if(!Object(h.c)(this.resolution,e))return;this._resolution=e;const{width:t,height:i,dynamicOffsets:s,marginSettings:n,isLandscape:o,rotate:r}=e;this.dispatcher.emit("RESIZE",e),Object.assign(this.device.gameWrapper.style,{top:n.top+s.top+"px",width:t+"px",height:i+"px"})}getWidth(){return Math.max(document.documentElement.clientWidth,window.innerWidth)}getHeight(){if(this.viewportSettings.useWindowSize)return window.screen.height;const e=!this.deviceConfig.ua.SamsungS10;return this.device.browser.isChromeAndroid&&e?document.documentElement.clientHeight:window.innerHeight}getMarginSettings(e,t){let i={top:0,bottom:0};const s=this.isFullScreen(t);for(const n of this.viewportSettings.margin)if(!(void 0!==n.fullscreen&&n.fullscreen!==s||void 0!==n.landscape&&n.landscape!==t||n.mobileType&&n.mobileType!==this.device.mobileType||n.height&&-1===n.height.indexOf(e))){i=n.offset;break}return i}isFullScreen(e){const{width:t,height:i}=window.screen;let s=t,n=i;this.device.isIOS&&e&&(s=i,n=t);const{landscape:o,portrait:r}=this.viewportSettings.statusBarHeight;return n-=e?o:r,innerWidth===s&&innerHeight>=n}getNativeResizeTarget(){var e;const t=window.visualViewport;return this.device.isIOS&&(null===(e=t)||void 0===e?void 0:e.addEventListener)?t:window}get ignoreMarginSettings(){return!!this.externalResizeData}getResizeData(){return{width:this.getWidth(),height:this.getHeight()}}getResizeOptions(){const{width:e,height:t}=this.externalResizeData||this.getResizeData(),i=e>t&&e/t>this.viewportSettings.portraitKeyboardRatio,s=this.offsets.offsetsSum,n=this.ignoreMarginSettings?{top:0,bottom:0}:this.getMarginSettings(t,i);return{width:e,height:t-n.top-n.bottom-s.top-s.bottom,isLandscape:i,dynamicOffsets:s,marginSettings:n,rotate:!1}}changeResizeEvent(e){this.nativeResizeTarget.removeEventListener("resize",this.onResize,!0),this.dispatcher.on(e,this.onExternalResize)}onExternalResize({width:e,height:t}){this.externalResizeData={width:e,height:t},this.onResize()}get orientation(){return this.isLandscape?"landscape":"portrait"}async getResizeTimeout(){}};Object(s.a)([n.a],u.prototype,"onVisibilityChange",null),Object(s.a)([n.a],u.prototype,"onResize",null),Object(s.a)([n.a],u.prototype,"doResize",null),Object(s.a)([n.a],u.prototype,"onExternalResize",null),u=Object(s.a)([r.a],u)}}]);